"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["node_modules_thirdweb-dev_wallets_evm_connectors_paper_dist_thirdweb-dev-wallets-evm-connecto-641c3f"],{

/***/ "./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-e4cc0175.browser.esm.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-e4cc0175.browser.esm.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "n": () => (/* binding */ normalizeChainId)
/* harmony export */ });
function normalizeChainId(chainId) {
  if (typeof chainId === "string") {
    return Number.parseInt(chainId, chainId.trim().substring(0, 2) === "0x" ? 16 : 10);
  }
  if (typeof chainId === "bigint") {
    return Number(chainId);
  }
  return chainId;
}




/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/paper/dist/thirdweb-dev-wallets-evm-connectors-paper.browser.esm.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PaperChainMap": () => (/* binding */ PaperChainMap),
/* harmony export */   "PaperWalletConnector": () => (/* binding */ PaperWalletConnector)
/* harmony export */ });
/* harmony import */ var _dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-eea39a9a.browser.esm.js */ "./node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-eea39a9a.browser.esm.js");
/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ "./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js");
/* harmony import */ var _dist_tw_connector_443c384d_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/tw-connector-443c384d.browser.esm.js */ "./node_modules/@thirdweb-dev/wallets/dist/tw-connector-443c384d.browser.esm.js");
/* harmony import */ var _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @paperxyz/embedded-wallet-service-sdk */ "./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs");
/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ "./node_modules/@ethersproject/address/lib.esm/index.js");
/* harmony import */ var _dist_normalizeChainId_e4cc0175_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-e4cc0175.browser.esm.js */ "./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-e4cc0175.browser.esm.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/@thirdweb-dev/wallets/node_modules/eventemitter3/index.mjs");









const PaperChainMap = {
  1: "Ethereum",
  5: "Goerli",
  137: "Polygon",
  80001: "Mumbai"
};
var _paper = /*#__PURE__*/new WeakMap();
var _signer = /*#__PURE__*/new WeakMap();
class PaperWalletConnector extends _dist_tw_connector_443c384d_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.T {
  constructor(options) {
    super();
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "id", "paper-wallet");
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "name", "Paper Wallet");
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "ready", true);
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "user", null);
    (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, _paper, {
      writable: true,
      value: void 0
    });
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "options", void 0);
    (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, _signer, {
      writable: true,
      value: void 0
    });
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "onAccountsChanged", async accounts => {
      if (accounts.length === 0) {
        await this.onDisconnect();
      } else {
        this.emit("change", {
          account: ethers__WEBPACK_IMPORTED_MODULE_5__.getAddress(accounts[0])
        });
      }
    });
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "onChainChanged", chainId => {
      const id = (0,_dist_normalizeChainId_e4cc0175_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.n)(chainId);
      const unsupported = this.isChainUnsupported(id);
      this.emit("change", {
        chain: {
          id,
          unsupported
        }
      });
    });
    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, "onDisconnect", async () => {
      this.emit("disconnect");
    });
    this.options = options;
  }
  getPaperSDK() {
    if (!(0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.b)(this, _paper)) {
      (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.a)(this, _paper, new Promise(async (resolve, reject) => {
        try {
          if (!(this.options.chain.chainId in PaperChainMap)) {
            throw new Error("Unsupported chain id: " + this.options.chain.chainId);
          }
          const {
            PaperEmbeddedWalletSdk
          } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @paperxyz/embedded-wallet-service-sdk */ "./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs"));
          const chainName = PaperChainMap[this.options.chain.chainId];
          resolve(new PaperEmbeddedWalletSdk({
            clientId: this.options.clientId,
            chain: chainName
          }));
        } catch (err) {
          reject(err);
        }
      }));
    }
    return (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.b)(this, _paper);
  }
  async connect() {
    const paperSDK = await this.getPaperSDK();
    if (!paperSDK) {
      throw new Error("Paper SDK not initialized");
    }
    let user = await paperSDK.getUser();
    switch (user.status) {
      case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_OUT:
        {
          const authResult = await paperSDK.auth.loginWithPaperModal();
          this.user = authResult.user;
          break;
        }
      case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_IN_WALLET_INITIALIZED:
        {
          this.user = user;
          break;
        }
    }
    if (!this.user) {
      throw new Error("Error connecting User");
    }
    this.setupListeners();
    return this.getAddress();
  }
  async disconnect() {
    // await this.paper?.auth.logout();
    this.user = null;
  }
  async getAddress() {
    const signer = await this.getSigner();
    return signer.getAddress();
  }
  async isConnected() {
    try {
      const addr = await this.getAddress();
      return !!addr;
    } catch (e) {
      return false;
    }
  }
  async getProvider() {
    const signer = await this.getSigner();
    if (!signer.provider) {
      throw new Error("Provider not found");
    }
    return signer.provider;
  }
  async getSigner() {
    if ((0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.b)(this, _signer)) {
      return (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.b)(this, _signer);
    }
    if (!this.user) {
      const paperSDK = await this.getPaperSDK();
      let user = await paperSDK.getUser();
      switch (user.status) {
        case _paperxyz_embedded_wallet_service_sdk__WEBPACK_IMPORTED_MODULE_0__.UserStatus.LOGGED_IN_WALLET_INITIALIZED:
          {
            this.user = user;
            break;
          }
      }
    }
    const signer = await this.user?.wallet.getEthersJsSigner({
      rpcEndpoint: this.options.chain.rpc[0]
    });
    if (!signer) {
      throw new Error("Signer not found");
    }
    (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.a)(this, _signer, signer);
    return signer;
  }
  async isAuthorized() {
    return false;
  }
  async switchChain(chainId) {
    // check if chainId is supported or not
    if (!(chainId in PaperChainMap)) {
      throw new Error("Chain not supported");
    }
    const chainName = PaperChainMap[chainId];
    const chain = this.options.chains.find(c => c.chainId === chainId);
    if (!chain) {
      throw new Error("Chain not configured");
    }

    // update chain in wallet
    await this.user?.wallet.setChain({
      chain: chainName
    });

    // update signer
    (0,_dist_classPrivateFieldSet_eea39a9a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.a)(this, _signer, await this.user?.wallet.getEthersJsSigner({
      rpcEndpoint: chain.rpc[0]
    }));
    this.emit("change", {
      chain: {
        id: chainId,
        unsupported: false
      }
    });
  }

  // private getUser() {
  //   if (!this.user) {
  //     throw new Error("User not found");
  //   }
  //   return this.user;
  // }

  async setupListeners() {
    const provider = await this.getProvider();
    if (provider.on) {
      provider.on("accountsChanged", this.onAccountsChanged);
      provider.on("chainChanged", this.onChainChanged);
      provider.on("disconnect", this.onDisconnect);
    }
  }
  updateChains(chains) {
    this.options.chains = chains;
  }
  isChainUnsupported(chainId) {
    return !(chainId in PaperChainMap);
  }
  async getEmail() {
    await this.getProvider();
    if (!this.user) {
      throw new Error("No user found, Paper Wallet is not connected");
    }
    return this.user.authDetails.email;
  }
}




/***/ }),

/***/ "./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@paperxyz/embedded-wallet-service-sdk/dist/index.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AUTH_TOKEN_LOCAL_STORAGE_NAME": () => (/* binding */ E),
/* harmony export */   "AuthProvider": () => (/* binding */ H),
/* harmony export */   "DEVICE_SHARE_LOCAL_STORAGE_NAME": () => (/* binding */ A),
/* harmony export */   "DEVICE_SHARE_LOCAL_STORAGE_NAME_DEPRECATED": () => (/* binding */ X),
/* harmony export */   "EMBEDDED_WALLET_PATH": () => (/* binding */ g),
/* harmony export */   "PaperEmbeddedWalletSdk": () => (/* binding */ P),
/* harmony export */   "UserStatus": () => (/* binding */ b),
/* harmony export */   "UserWalletStatus": () => (/* binding */ C),
/* harmony export */   "WALLET_USER_ID_LOCAL_STORAGE_NAME": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @paperxyz/sdk-common-utilities */ "./node_modules/@paperxyz/sdk-common-utilities/dist/index.mjs");
/* harmony import */ var _ethersproject_providers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ethersproject/providers */ "./node_modules/@ethersproject/providers/lib.esm/index.js");
/* harmony import */ var _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethersproject/abstract-signer */ "./node_modules/@ethersproject/abstract-signer/lib.esm/index.js");
/* harmony import */ var _ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ethersproject/properties */ "./node_modules/@ethersproject/properties/lib.esm/index.js");
var G=Object.defineProperty,x=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var O=(a,e,t)=>e in a?G(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,u=(a,e)=>{for(var t in e||(e={}))k.call(e,t)&&O(a,t,e[t]);if(R)for(var t of R(e))Q.call(e,t)&&O(a,t,e[t]);return a},I=(a,e)=>x(a,M(e));var i=(a,e,t)=>new Promise((r,s)=>{var o=l=>{try{p(t.next(l))}catch(d){s(d)}},n=l=>{try{p(t.throw(l))}catch(d){s(d)}},p=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,n);p((t=t.apply(a,e)).next())});var g="/sdk/2022-08-12/embedded-wallet",T=a=>`paperEwsWalletUserId-${a}`,F="walletToken",E=a=>`${F}-${a}`,U="a",A=(a,e)=>`${U}-${a}-${e}`,X=a=>`${U}-${a}`;var H=(s=>(s.PAPER_EMAIL_OTP="PaperEmailOTP",s.GOOGLE="Google",s.AUTH0="Auth0",s.CUSTOM_JWT="CustomJWT",s))(H||{});var b=(t=>(t.LOGGED_OUT="Logged Out",t.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized",t))(b||{}),C=(s=>(s.LOGGED_OUT="Logged Out",s.LOGGED_IN_WALLET_UNINITIALIZED="Logged In, Wallet Uninitialized",s.LOGGED_IN_NEW_DEVICE="Logged In, New Device",s.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized",s))(C||{});var N=new Map,c=class{constructor({clientId:e}){this.isSupported=typeof window!="undefined"&&!!window.localStorage,this.clientId=e}getItem(e){return i(this,null,function*(){var t;return this.isSupported?window.localStorage.getItem(e):(t=N.get(e))!=null?t:null})}setItem(e,t){return i(this,null,function*(){if(this.isSupported)return window.localStorage.setItem(e,t);N.set(e,t)})}removeItem(e){return i(this,null,function*(){let t=yield this.getItem(e);return this.isSupported&&t?(window.localStorage.removeItem(e),!0):!1})}saveAuthCookie(e){return i(this,null,function*(){yield this.setItem(E(this.clientId),e)})}getAuthCookie(){return i(this,null,function*(){return this.getItem(E(this.clientId))})}removeAuthCookie(){return i(this,null,function*(){return this.removeItem(E(this.clientId))})}saveDeviceShare(e,t){return i(this,null,function*(){yield this.saveWalletUserId(t),yield this.setItem(A(this.clientId,t),e)})}getDeviceShare(){return i(this,null,function*(){let e=yield this.getWalletUserId();return e?this.getItem(A(this.clientId,e)):null})}removeDeviceShare(){return i(this,null,function*(){let e=yield this.getWalletUserId();return e?this.removeItem(A(this.clientId,e)):!1})}getWalletUserId(){return i(this,null,function*(){return this.getItem(T(this.clientId))})}saveWalletUserId(e){return i(this,null,function*(){yield this.setItem(T(this.clientId),e)})}removeWalletUserId(){return i(this,null,function*(){return this.removeItem(T(this.clientId))})}};function L(a){return new Promise(e=>{setTimeout(e,a*1e3)})}var z={height:"100%",width:"100%",border:"none",backgroundColor:"transparent",position:"fixed",top:"0px",right:"0px",zIndex:"2147483646",display:"none"},w=new Map,f=class{constructor({link:e,iframeId:t,container:r=document.body,iframeStyles:s,onIframeInitialize:o}){this.POLLING_INTERVAL_SECONDS=1.4;this.POST_LOAD_BUFFER_SECONDS=1;let n=document.getElementById(t),p=new URL(e),l="0.0.26";if(!l)throw new Error("Missing SDK_VERSION env var");if(p.searchParams.set("sdkVersion",l),!n||n.src!=p.href){if(!n){n=document.createElement("iframe");let d=u(u({},z),s);Object.assign(n.style,d),n.setAttribute("id",t),r.appendChild(n)}n.src=p.href,n.setAttribute("data-version",l),n.onload=this.onIframeLoadHandler(n,this.POST_LOAD_BUFFER_SECONDS,o)}this.iframe=n}onIframeLoadedInitVariables(){return i(this,null,function*(){return{}})}onIframeLoadHandler(e,t,r){return()=>i(this,null,function*(){yield new Promise((o,n)=>i(this,null,function*(){var d;let p=new MessageChannel;p.port1.onmessage=S=>{let{data:m}=S;return p.port1.close(),m.success?(w.set(e.src,!0),r&&r(),o(!0)):n(m.error)},yield L(t);let l="initIframe";(d=e==null?void 0:e.contentWindow)==null||d.postMessage({eventType:l,data:yield this.onIframeLoadedInitVariables()},`${(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()}${g}`,[p.port2])}))})}call(s){return i(this,arguments,function*({procedureName:e,params:t,showIframe:r=!1}){for(;!w.get(this.iframe.src);)yield L(this.POLLING_INTERVAL_SECONDS);return r&&(this.iframe.style.display="block",yield L(.005)),new Promise((n,p)=>{var d;let l=new MessageChannel;l.port1.onmessage=S=>i(this,null,function*(){let{data:m}=S;l.port1.close(),r&&(yield L(.1),this.iframe.style.display="none"),m.success?n(m.data):p(m.error)}),(d=this.iframe.contentWindow)==null||d.postMessage({eventType:e,data:t},`${(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)()}${g}`,[l.port2])})})}destroy(){w.delete(this.iframe.src)}};var W=class extends f{constructor({clientId:t,customizationOptions:r}){super({iframeId:j,link:q({clientId:t,path:g,queryParams:r}).href,container:document.body});this.clientId=t}onIframeLoadedInitVariables(){return i(this,null,function*(){let t=new c({clientId:this.clientId});return{authCookie:yield t.getAuthCookie(),deviceShareStored:yield t.getDeviceShare(),walletUserId:yield t.getWalletUserId(),clientId:this.clientId}})}};function q({clientId:a,path:e,queryParams:t}){var s;let r=new URL(e,(0,_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.getPaperOriginUrl)());if(r.searchParams.set("clientId",a),t)for(let o of Object.keys(t))r.searchParams.set(o,((s=t[o])==null?void 0:s.toString())||"");return r}var j="paper-embedded-wallet-iframe";var _=class{constructor({clientId:e,querier:t,onAuthSuccess:r}){this.clientId=e,this.AuthQuerier=t,this.localStorage=new c({clientId:e}),this.onAuthSuccess=r}postLogin(r){return i(this,arguments,function*({storedToken:e,walletDetails:t}){return e.shouldStoreCookieString&&(yield this.localStorage.saveAuthCookie(e.cookieString)),yield this.onAuthSuccess({storedToken:e,walletDetails:t})})}loginWithJwtAuth(s){return i(this,arguments,function*({token:e,authProvider:t,recoveryCode:r}){let o=yield this.AuthQuerier.call({procedureName:"loginWithJwtAuthCallback",params:{token:e,authProvider:t,recoveryCode:r}});return this.postLogin(o)})}loginWithPaperModal(){return i(this,null,function*(){let e=yield this.AuthQuerier.call({procedureName:"loginWithPaperModal",params:void 0,showIframe:!0});return this.postLogin(e)})}loginWithPaperEmailOtp(t){return i(this,arguments,function*({email:e}){let r=yield this.AuthQuerier.call({procedureName:"loginWithPaperModal",params:{email:e},showIframe:!0});return this.postLogin(r)})}sendPaperEmailLoginOtp(t){return i(this,arguments,function*({email:e}){let{isNewUser:r,isNewDevice:s}=yield this.AuthQuerier.call({procedureName:"sendPaperEmailLoginOtp",params:{email:e}});return{isNewUser:r,isNewDevice:s}})}verifyPaperEmailLoginOtp(s){return i(this,arguments,function*({email:e,otp:t,recoveryCode:r}){let o=yield this.AuthQuerier.call({procedureName:"verifyPaperEmailLoginOtp",params:{email:e,otp:t,recoveryCode:r}});return this.postLogin(o)})}logout(){return i(this,null,function*(){let{success:e}=yield this.AuthQuerier.call({procedureName:"logout",params:void 0}),t=yield this.localStorage.removeAuthCookie(),r=yield this.localStorage.removeWalletUserId();return{success:e||t||r}})}};var y=class{constructor({chain:e,clientId:t,querier:r}){this.chain=e,this.clientId=t,this.gaslessTransactionQuerier=r}callContract(s){return i(this,arguments,function*({contractAddress:e,methodArgs:t,methodInterface:r}){return yield this.gaslessTransactionQuerier.call({procedureName:"callContract",params:{chain:this.chain,contractAddress:e,method:{args:t,stub:r}}})})}};var h=class extends _ethersproject_abstract_signer__WEBPACK_IMPORTED_MODULE_1__.Signer{constructor({provider:t,clientId:r,querier:s}){super();this.DEFAULT_ETHEREUM_CHAIN_ID=1;this.clientId=r,this.querier=s,(0,_ethersproject_properties__WEBPACK_IMPORTED_MODULE_2__.defineReadOnly)(this,"provider",t)}getAddress(){return i(this,null,function*(){let{address:t}=yield this.querier.call({procedureName:"getAddress",params:void 0});return t})}signMessage(t){return i(this,null,function*(){var s,o,n;let{signedMessage:r}=yield this.querier.call({procedureName:"signMessage",params:{message:t,chainId:(n=(o=yield(s=this.provider)==null?void 0:s.getNetwork())==null?void 0:o.chainId)!=null?n:this.DEFAULT_ETHEREUM_CHAIN_ID}});return r})}signTransaction(t){return i(this,null,function*(){var s,o,n;let{signedTransaction:r}=yield this.querier.call({procedureName:"signTransaction",params:{transaction:t,chainId:(n=(o=yield(s=this.provider)==null?void 0:s.getNetwork())==null?void 0:o.chainId)!=null?n:this.DEFAULT_ETHEREUM_CHAIN_ID}});return r})}_signTypedData(t,r,s){return i(this,null,function*(){var n,p,l;let{signedTypedData:o}=yield this.querier.call({procedureName:"signTypedDataV4",params:{domain:t,types:r,message:s,chainId:(l=(p=yield(n=this.provider)==null?void 0:n.getNetwork())==null?void 0:p.chainId)!=null?l:this.DEFAULT_ETHEREUM_CHAIN_ID}});return o})}connect(t){return new h({clientId:this.clientId,provider:t,querier:this.querier})}};var D=class{constructor({clientId:e,chain:t,querier:r}){this.clientId=e,this.chain=t,this.walletManagerQuerier=r,this.gasless=new y({chain:t,clientId:e,querier:r}),this.localStorage=new c({clientId:e})}postWalletSetUp(o){return i(this,arguments,function*({deviceShareStored:e,walletAddress:t,isIframeStorageEnabled:r,walletUserId:s}){return r||(yield this.localStorage.saveDeviceShare(e,s)),{walletAddress:t}})}getUserWalletStatus(){return i(this,null,function*(){let e=yield this.walletManagerQuerier.call({procedureName:"getUserStatus",params:void 0});return e.status==="Logged In, Wallet Initialized"?{status:"Logged In, Wallet Initialized",user:I(u({},e.user),{wallet:this})}:e})}setChain(t){return i(this,arguments,function*({chain:e}){this.chain=e,this.gasless=new y({chain:e,clientId:this.clientId,querier:this.walletManagerQuerier})})}getEthersJsSigner(e){return i(this,null,function*(){var r;return new h({clientId:this.clientId,provider:(0,_ethersproject_providers__WEBPACK_IMPORTED_MODULE_3__.getDefaultProvider)((r=e==null?void 0:e.rpcEndpoint)!=null?r:_paperxyz_sdk_common_utilities__WEBPACK_IMPORTED_MODULE_0__.ChainToPublicRpc[this.chain]),querier:this.walletManagerQuerier})})}};var P=class{constructor({clientId:e,chain:t,styles:r}){this.clientId=e,this.querier=new W({clientId:e,customizationOptions:r}),this.wallet=new D({clientId:e,chain:t,querier:this.querier}),this.auth=new _({clientId:e,querier:this.querier,onAuthSuccess:s=>i(this,null,function*(){return yield this.wallet.postWalletSetUp(I(u({},s.walletDetails),{walletUserId:s.storedToken.authDetails.userWalletId})),{user:{status:"Logged In, Wallet Initialized",authDetails:s.storedToken.authDetails,wallet:this.wallet,walletAddress:s.walletDetails.walletAddress}}})})}getUser(){return i(this,null,function*(){let e=yield this.wallet.getUserWalletStatus();switch(e.status){case"Logged In, New Device":case"Logged In, Wallet Uninitialized":return yield this.auth.logout(),this.getUser();case"Logged Out":return{status:"Logged Out"};case"Logged In, Wallet Initialized":return u({status:"Logged In, Wallet Initialized"},e.user)}})}};
//# sourceMappingURL=index.mjs.map

/***/ }),

/***/ "./node_modules/@paperxyz/sdk-common-utilities/dist/index.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@paperxyz/sdk-common-utilities/dist/index.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChainToPublicRpc": () => (/* binding */ o),
/* harmony export */   "getPaperOriginUrl": () => (/* binding */ p)
/* harmony export */ });
/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ "./node_modules/process/browser.js");
var o={Ethereum:"https://rpc.ankr.com/eth",Goerli:"https://eth-goerli.g.alchemy.com/v2/demo",Mumbai:"https://rpc-mumbai.maticvigil.com",Polygon:"https://rpc-mainnet.maticvigil.com",Avalanche:"https://api.avax.network/ext/bc/C/rpc"};var i=()=>typeof window!="undefined"&&window.localStorage.getItem("IS_PAPER_DEV")==="true",n=()=>!!(typeof window!="undefined"&&window.location.origin.includes("zeet-paper.zeet.app")),r=()=>typeof window!="undefined"&&window.location.origin.includes("paper.xyz"),p=()=>{var e,t;return i()?(e=window.localStorage.getItem("PAPER_DEV_URL"))!=null?e:"http://localhost:3000":n()?(t=process==null?void 0:process.env)!=null&&t.ZEET_DEPLOYMENT_URL?`https://${process.env.ZEET_DEPLOYMENT_URL}`:typeof window!="undefined"?window.location.origin:"https://withpaper.com":r()?window.location.origin:"https://withpaper.com"};
//# sourceMappingURL=index.mjs.map

/***/ })

}]);